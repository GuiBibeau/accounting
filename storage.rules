rules_version = '2';

service firebase.storage {
  match /b/{bucket}/o {
    // Allow authenticated users to write files to their own video folder.
    match /videos/{userId}/{videoId} {
      allow write: if request.auth != null && request.auth.uid == userId;
      // Add read access later if needed for displaying uploaded videos.
      // Consider adding size/type validation in the future.
    }

    // Deny access to other paths by default unless explicitly allowed elsewhere.
    // match /{allPaths=**} {
    //   allow read, write: if false;
    // }
  }
}
